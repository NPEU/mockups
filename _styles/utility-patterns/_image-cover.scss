/*
    Text alignment.

    @To Do: allow for responsive variations.
*/
/*
    Fill and area with an image.
*/

$image-cover-namespace: u- !default;

.#{$image-cover-namespace} {
    margin-left: $sz-s !important;
}



/* Make the image fill the width and be vertically centered: */
/* (in portrait images this will leave gaps at the sides) */
/*.u-image-cover {
    width: 100%;
    top: 50%;
    transform: translateY(-50%);
}*/

/* If `object-fit` is supported, use that and override vertical centering: */
@supports (object-fit:cover) {
    .#{$image-cover-namespace}image-cover {
        position: relative;
        height: 100%;
        width: 100%;
        min-height: 10em;

        &#{&}--min-20 {
            min-height: 20vmin;
        }

        &#{&}--min-30 {
            min-height: 30vmin;
        }

        &#{&}--min-40 {
            min-height: 40vmin;
        }

        &#{&}--min-50 {
            min-height: 50vmin;
        }
    }
        .#{$image-cover-namespace}image-cover__inner {
            position: absolute;
            width: 100%;
            height: 100%;
        }

            .#{$image-cover-namespace}image-cover__image {
                object-fit: cover;
                height: 100%;
                width: 100%;
            }
}


/*
    IE10-11

    ! NOTE: test this in all non-object-fit-supporting browsers as it may be a fix for those too.
    
    This only works for landscape images. If it's portrait it breaks unless the width and translate
    are inverted, and that can't be detected if size changes.
*/

@media #{$f__ie10-11} {

    .#{$image-cover-namespace}image-cover {
        height: 100%;
        //min-height: 12.8rem; // Magic number alert!
    }

        .#{$image-cover-namespace}image-cover__inner {
            display: block;
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

            /*.#{$image-cover-namespace}image-cover__image {
                position: absolute;
                left: 50%;
                top: 50%;
                width: auto;
                height: auto;
                min-width: 100%;
                min-height: 100%;
                //max-width: 100%;
                //max-height: 100%;
                transform: translate(-50%, -50%);
            }*/
}

.js-image-cover {

    background-size: cover;
    background-position: center center;

    img {
        opacity: 0;
    }
}
